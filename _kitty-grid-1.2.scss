// desktop first breakpoints
$break_xlg  : 1440px;
$break_lg   : 1200px;
$break_md   : 920px;
$break_sm   : 640px;

// container
$content-width: 1160px;
$mob-padding: 15px;

// media queries mixins
@mixin xlg {
    @media screen and (max-width: $break_xlg) {
        @content;
    }
}

@mixin lg {
    @media screen and (max-width: $break_lg) {
        @content;
    }
}

@mixin md {
    @media screen and (max-width: $break_md) {
        @content;
    }
}

@mixin sm {
    @media screen and (max-width: $break_sm) {
        @content;
    }
}

@mixin xs {
    @media screen and (max-width: $break_xs) {
        @content;
    }
}

// fluid default gutters
:root {
    --gutter: 15px;
}

@include md {
    :root {
        --gutter: 10px;
    }
}

// default layout mixins
@mixin row($gutter:false) {
    display: flex;
    flex-wrap: wrap;
    clear: both;
    width: calc(100% + var(--gutter) * 2);

    @if $gutter {
        margin-left: $gutter;
        margin-right: $gutter;
    }

    @else {
        margin-left: calc(var(--gutter) * -1);
        margin-right: calc(var(--gutter) * -1);

    }

}

@mixin no-gutter {
    margin-left: 0;
    margin-right: 0;
}

@mixin col($gutter: var(--gutter)) {
    box-sizing: border-box;
    margin-left: $gutter;
    margin-right: $gutter;

    @if(type-of($gutter) == string) and ($gutter != var(--gutter)) {
        @error "Unknown gutter `#{$gutter}`. Property #{$gutter} must be or default or more than 0 in px,rem,em etc.";
    }
    @else if(type-of($gutter) == number) and ($gutter <= 1) {
        @error "Unknown property `#{$gutter}`. Col gutter must be or default or more than 1 in px,rem,em etc.";
    }
}

@mixin size($col, $gutter: var(--gutter)) {

    @if $col==auto {
        width: auto;
        flex-basis: auto;
        flex-grow: 0;
    }

    @else if $col==adaptive {
        width: 100%;
        flex-basis: 0;
        flex-grow: 1;
    }

    @else if(type-of($col) == number) {
        width: calc(100% * #{$col} - #{$gutter} * 2);
        flex-basis: calc(100% * #{$col} - #{$gutter} * 2);
        flex-grow: 0;
    }
    @else {
        @error "Property #{$col} must be auto or adaptive or part of column count(e. g. 2/12).";
    }
}

@mixin offset($col:false, $gutter: var(--gutter)) {

    @if $col {
        margin-left: calc(100% * #{$col} + #{$gutter});
    }

    @else {
        margin-left: $gutter;
    }
}

// main container
.container {
    max-width: calc(#{$content-width} + #{$mob-padding} * 2);
    padding: 0 $mob-padding;
    margin: 0 auto;
}

.container-fluid {
    max-width: 100%;
}

// row
.row {
    @include row();

    &_no-gutter {
        @include no-gutter();
    }
}